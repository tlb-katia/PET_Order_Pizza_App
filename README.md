# Старт

Для старта вам нужно иметь установленный Go и sqlite. Перейдите в корневую папку проекта и выполните команду `make run`, чтобы запустить проект. После этого он будет доступен по адресу `localhost:44044`.

# Установка и запуск

Проект запускается на локальной машине, и Makefile содержит команды для удобства:

- `make run` — запускает приложение.
- `make clean-data` — очищает данные из базы данных и кеша.
- `make stop` — останавливает работу приложения.
- `make server-logs` — выводит логи работы сервера.
- `make database-logs` — выводит логи работы базы данных.
- `make cache-logs` — выводит логи работы кеша.
- `make all-logs` — выводит все логи вместе.

# О проекте

Проект **PET_Order_Pizza_App** — это учебное приложение для заказа пиццы, разработанное с использованием gRPC. Оно предполагает использование PostgreSQL для хранения данных и Redis для кеширования.

Проект придерживается чистой архитектуры и принципов SOLID, что делает его легко масштабируемым и поддерживаемым.

## Особенности проекта

### gRPC

Приложение использует gRPC для коммуникации между клиентом и сервером. gRPC обеспечивает высокую производительность и сжатие данных, что делает его отличным выбором для распределённых систем.

### Migrations

Для управления схемой базы данных используются миграции. Это позволяет легко обновлять и изменять структуру базы данных по мере развития проекта. Миграции применяются автоматически при запуске приложения.

### Tests

В проекте реализованы автоматические тесты, которые покрывают основные сценарии использования приложения. Тесты выполняются при каждом изменении кода, что помогает поддерживать высокое качество и надёжность кода.

### Deploy

Проект готов к деплою на любой инфраструктуре, поддерживающей Go. Все зависимости управляются через Go Modules, что упрощает развертывание на любой машине.

# API

Проект предоставляет следующие эндпоинты и методы:

- **/order**
    - **POST**: Размещение нового заказа.
    - **Пример**:
      ```bash
      curl -X POST http://localhost:44044/order -H "Content-Type: application/json" -d '{
        "customer_name": "John Doe",
        "pizza_type": "Margherita",
        "size": "LARGE",
        "toppings": ["Cheese", "Olives"]
      }'
      ```

- **/order/status**
    - **GET**: Проверка статуса заказа по его ID.
    - **Пример**:
      ```bash
      curl -X GET "http://localhost:44044/order/status?order_id=1"
      ```

- **/order/cancel**
    - **POST**: Отмена заказа по его ID.
    - **Пример**:
      ```bash
      curl -X POST http://localhost:44044/order/cancel -H "Content-Type: application/json" -d '{
        "order_id": "1"
      }'
      ```

# Функционал

- Проект реализован с использованием gRPC, что обеспечивает высокую производительность.
- Проект запускается на локальной машине, и все настройки могут быть заданы через файл `.env`.
- Поддерживается кеширование данных с использованием Redis, что ускоряет доступ к часто используемой информации.
- Логирование и мониторинг работы сервиса через удобные команды в Makefile.

# Дополнительно

- **Static Configuration**: Статическая конфигурация через `.env` файл.
- **Caching**: Кеширование данных с использованием Redis, что делает проект более быстрым и отзывчивым.
- **Advanced Endpoints**: Дополнительные эндпоинты и методы, такие как обновление и удаление заказов.

Проект PET_Order_Pizza_App создан с целью демонстрации возможностей gRPC и практик разработки масштабируемых приложений. Он включает в себя все необходимое для быстрого развертывания и тестирования в реальных условиях.
